window.__require=function e(t,o,n){function i(c,r){if(!o[c]){if(!t[c]){var a=c.split("/");if(a=a[a.length-1],!t[a]){var l="function"==typeof __require&&__require;if(!r&&l)return l(a,!0);if(s)return s(a,!0);throw new Error("Cannot find module '"+c+"'")}c=a}var p=o[c]={exports:{}};t[c][0].call(p.exports,function(e){return i(t[c][1][e]||e)},p,p.exports,e,t,o,n)}return o[c].exports}for(var s="function"==typeof __require&&__require,c=0;c<n.length;c++)i(n[c]);return i}({SimpleDraggable:[function(e,t,o){"use strict";cc._RF.push(t,"9d712VKlfhAYojH9lYe25Ph","SimpleDraggable");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(e,t,o,n){var i,s=arguments.length,c=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(c=(s<3?i(c):s>3?i(t,o,c):i(t,o))||c);return s>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator,c=s.ccclass,r=(s.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._touchOffset=cc.Vec2.ZERO,t._isDragging=!1,t._moveCallback=null,t}return n(t,e),t.prototype.onLoad=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.OnTouchStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.OnTouchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.OnTouchEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.OnTouchEnd,this)},t.prototype.Setup=function(e){this._moveCallback=e},t.prototype.OnTouchStart=function(e){var t=e.getLocation(),o=this.node.convertToWorldSpaceAR(cc.Vec2.ZERO);this._touchOffset=o.sub(t),this._isDragging=!0,this._moveCallback&&this._moveCallback(this.node.position)},t.prototype.OnTouchMove=function(e){if(this._isDragging){var t=e.getLocation();this.TraceTouchPos(t),this._moveCallback&&this._moveCallback(this.node.position)}},t.prototype.OnTouchEnd=function(e){this._isDragging&&(this._isDragging=!1)},t.prototype.TraceTouchPos=function(e){var t=e.add(this._touchOffset),o=this.node.parent.convertToNodeSpaceAR(t);this.node.position=o},t=i([c],t)}(cc.Component));o.default=r,cc._RF.pop()},{}],SpineTest:[function(e,t,o){"use strict";cc._RF.push(t,"2ec52sTOyZMD43cTHmo4Hs4","SpineTest");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(e,t,o,n){var i,s=arguments.length,c=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,n);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(c=(s<3?i(c):s>3?i(t,o,c):i(t,o))||c);return s>3&&c&&Object.defineProperty(t,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator,c=s.ccclass,r=s.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.spine=null,t.dec=null,t.zoomDec=null,t.rederTimer=null,t}return n(t,e),t.prototype.onLoad=function(){this._cache={image:"",ske:"",atlas:""}},t.prototype.start=function(){},t.prototype.onClickBinary=function(e,t){var o=this;this.replaceCache();var n=.5/Number(t),i=(new Date).getTime(),s="https://oss-wbqj.tomatogames.com/Mini/wx/test/"+t+"/heshen.png",c="https://oss-wbqj.tomatogames.com/Mini/wx/test/"+t+"/heshen.skel",r="https://oss-wbqj.tomatogames.com/Mini/wx/test/"+t+"/heshen.atlas";cc.loader.load(s,function(e,t){cc.loader.load({url:r,type:"txt"},function(e,a){cc.loader.load({url:c,type:"bin"},function(e,l){o._cache.atlas=r,o._cache.ske=c,o._cache.image=s,console.log("\u4e0b\u8f7d\u5b8c\u6210\u5b8c\u6210\u65f6\u95f4\uff1a",(new Date).getTime()-i),o.dec.string="\u4e0b\u8f7d\u65f6\u95f4\uff1a"+String((new Date).getTime()-i),o.zoomDec.string="\u7f29\u653e\u7cfb\u6570\uff1a"+n;var p=(new Date).getTime(),h=new sp.SkeletonData;h._nativeAsset=l,h.atlasText=a,h.textures=[t],h.textureNames=["heshen.png"],o.spine.skeletonData=h,console.log("\u8bbe\u7f6e\u6570\u636e\u5f00\u59cb\u65f6\u95f4\uff1a",(new Date).getTime()-p),o.spine.setStartListener(function(){console.log("\u6e32\u67d3\u65f6\u95f4\uff1a",(new Date).getTime()-p),o.rederTimer.string="\u6e32\u67d3\u65f6\u95f4\uff1a"+String((new Date).getTime()-p)}),o.spine.setAnimation(0,"juqing",!0),o.spine.node.setScale(n),o.spine.node.setPosition(-291,-29)})})})},t.prototype.onClickOriginal=function(){var e=this;this.replaceCache();var t=(new Date).getTime(),o="https://oss-wbqj.tomatogames.com/Mini/wx/test/1json/heshen.png",n="https://oss-wbqj.tomatogames.com/Mini/wx/test/1json/heshen.json",i="https://oss-wbqj.tomatogames.com/Mini/wx/test/1json/heshen.atlas";cc.loader.load(o,function(s,c){cc.loader.load({url:i,type:"txt"},function(s,r){cc.loader.load({url:n,type:"txt"},function(s,a){e._cache.atlas=i,e._cache.ske=n,e._cache.image=o,console.log("\u4e0b\u8f7d\u5b8c\u6210\u5b8c\u6210\u65f6\u95f4\uff1a",(new Date).getTime()-t),e.dec.string="\u4e0b\u8f7d\u65f6\u95f4\uff1a"+String((new Date).getTime()-t),e.zoomDec.string="\u7f29\u653e\u7cfb\u6570\uff1a0.5";var l=(new Date).getTime(),p=new sp.SkeletonData;p.skeletonJson=a,p.atlasText=r,p.textures=[c],p.textureNames=["heshen.png"],e.spine.skeletonData=p,console.log("\u8bbe\u7f6e\u6570\u636e\u5f00\u59cb\u65f6\u95f4\uff1a",(new Date).getTime()-l),e.spine.setStartListener(function(){console.log("\u6e32\u67d3\u65f6\u95f4\uff1a",(new Date).getTime()-l),e.rederTimer.string="\u6e32\u67d3\u65f6\u95f4\uff1a"+String((new Date).getTime()-l)}),e.spine.setAnimation(0,"juqing",!0),e.spine.node.setScale(.5),e.spine.node.setPosition(-291,-29)})})})},t.prototype.onClickHalfJson=function(){var e=this;this.replaceCache();var t=(new Date).getTime(),o="https://oss-wbqj.tomatogames.com/Mini/wx/test/0.5json/heshen.png",n="https://oss-wbqj.tomatogames.com/Mini/wx/test/0.5json/heshen.json",i="https://oss-wbqj.tomatogames.com/Mini/wx/test/0.5json/heshen.atlas";cc.loader.load(o,function(s,c){cc.loader.load({url:i,type:"txt"},function(s,r){cc.loader.load({url:n,type:"txt"},function(s,a){e._cache.atlas=i,e._cache.ske=n,e._cache.image=o,console.log("\u4e0b\u8f7d\u5b8c\u6210\u5b8c\u6210\u65f6\u95f4\uff1a",(new Date).getTime()-t),e.dec.string="\u4e0b\u8f7d\u65f6\u95f4\uff1a"+String((new Date).getTime()-t),e.zoomDec.string="\u7f29\u653e\u7cfb\u6570\uff1a1";var l=(new Date).getTime(),p=new sp.SkeletonData;p.skeletonJson=a,p.atlasText=r,p.textures=[c],p.textureNames=["heshen.png"],e.spine.skeletonData=p,console.log("\u8bbe\u7f6e\u6570\u636e\u5f00\u59cb\u65f6\u95f4\uff1a",(new Date).getTime()-l),e.spine.setStartListener(function(){console.log("\u6e32\u67d3\u65f6\u95f4\uff1a",(new Date).getTime()-l),e.rederTimer.string="\u6e32\u67d3\u65f6\u95f4\uff1a"+String((new Date).getTime()-l)}),e.spine.setAnimation(0,"juqing",!0),e.spine.node.setScale(1),e.spine.node.setPosition(-291,-29)})})})},t.prototype.replaceCache=function(){this.spine.skeletonData=null,this._cache.atlas&&this._cache.ske&&this._cache.image&&(cc.loader.release(this._cache.atlas),cc.loader.release(this._cache.ske),cc.loader.release(this._cache.image))},i([r(sp.Skeleton)],t.prototype,"spine",void 0),i([r(cc.Label)],t.prototype,"dec",void 0),i([r(cc.Label)],t.prototype,"zoomDec",void 0),i([r(cc.Label)],t.prototype,"rederTimer",void 0),t=i([c],t)}(cc.Component);o.default=a,cc._RF.pop()},{}]},{},["SimpleDraggable","SpineTest"]);